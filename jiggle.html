<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shadow Ledger v.0.0.2</title>
    <style>
      body {
        background-color: #0d2b1d; /* Темно-зеленый (цвет денег в тени) */
        color: #5cdb95; /* Светло-зеленый терминальный */
        font-family: "Courier New", Courier, monospace;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        padding: 20px;
      }

      .container {
        width: 100%;
        max-width: 600px;
        background-color: #05160e;
        border: 2px solid #5cdb95;
        padding: 30px;
        box-shadow: 0 0 20px rgba(92, 219, 149, 0.2);
        position: relative;
      }

      h1 {
        text-align: center;
        border-bottom: 1px dashed #5cdb95;
        padding-bottom: 15px;
        margin-top: 0;
        text-transform: uppercase;
        font-size: 1.4em;
      }

      .status {
        font-size: 0.8em;
        margin-bottom: 20px;
        text-align: right;
        opacity: 0.7;
      }

      .content-box {
        margin-top: 30px;
        min-height: 200px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      p {
        line-height: 1.6;
        font-size: 1.1em;
      }

      input[type="text"] {
        background: transparent;
        border: none;
        border-bottom: 2px solid #5cdb95;
        color: #fff;
        font-family: inherit;
        font-size: 1.2em;
        width: 100%;
        padding: 10px;
        margin-top: 20px;
        outline: none;
        text-transform: uppercase;
      }

      button {
        background-color: #5cdb95;
        color: #05160e;
        border: none;
        padding: 15px;
        width: 100%;
        margin-top: 20px;
        font-weight: bold;
        font-size: 1.1em;
        cursor: pointer;
        font-family: inherit;
        transition: 0.3s;
      }

      button:hover {
        background-color: #379683;
        color: #fff;
      }

      .hidden {
        display: none;
      }

      .error-msg {
        color: #ff6b6b;
        margin-top: 10px;
        display: none;
        font-weight: bold;
      }

      /* Анимация для финального кода */
      .jiggle-text {
        font-size: 2.5em;
        text-align: center;
        margin: 20px 0;
        color: #edf5e1;
        animation: jiggle 0.5s infinite;
        border: 2px dashed #edf5e1;
        padding: 10px;
      }

      @keyframes jiggle {
        0% {
          transform: rotate(0deg);
        }
        25% {
          transform: rotate(2deg);
        }
        50% {
          transform: rotate(0deg);
        }
        75% {
          transform: rotate(-2deg);
        }
        100% {
          transform: rotate(0deg);
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>$$$ PRIVATE ASSETS $$$</h1>
      <div class="status">ENCRYPTION: AES-256 | TAX_LEVEL: 0%</div>

      <!-- ЭТАП 1: КЛЮЧ -->
      <div id="stage-1" class="content-box">
        <p><strong>[СИСТЕМА ЗАЩИТЫ БОНУСОВ]</strong></p>
        <p>Доступ к скрытым счетам заблокирован.</p>
        <p>Введите кодовое слово-дешифратор (кто то его точно знает):</p>

        <input
          type="text"
          id="input-key"
          placeholder="ВВЕДИТЕ КЛЮЧ..."
          autocomplete="off"
        />
        <button onclick="checkKey()">РАЗБЛОКИРОВАТЬ</button>
        <p class="error-msg" id="error-key">
          НЕВЕРНЫЙ КЛЮЧ. НАЛОГОВАЯ УЖЕ ВЫЕХАЛА.
        </p>
      </div>

      <!-- ЭТАП 2: ОФШОР -->
      <div id="stage-2" class="content-box hidden">
        <p><strong>[УРОВЕНЬ 1: ГЕОГРАФИЯ КАПИТАЛА]</strong></p>
        <p>Чтобы продвинуться дальше, решите загадку:</p>
        <p
          style="
            font-style: italic;
            color: #8ee4af;
            border-left: 3px solid #8ee4af;
            padding-left: 15px;
          "
        >
          "Я — волшебный остров (или страна), где деньги не задают лишних
          вопросов.<br />
          Здесь бонусы превращаются в яхты, а налоги превращаются в пыль.<br />
          Я — лучшее место для отпуска твоего капитала.<br />
          Кто я?"
        </p>

        <input
          type="text"
          id="input-riddle"
          placeholder="ОТВЕТ..."
          autocomplete="off"
        />
        <button onclick="checkRiddle()">ПОДТВЕРДИТЬ ТРАНЗАКЦИЮ</button>
        <p class="error-msg" id="error-riddle">
          ОТКАЗАНО. ВЫ МЫСЛИТЕ СЛИШКОМ "БЕЛО".
        </p>
      </div>

      <!-- ЭТАП 3: ПРАЧЕЧНАЯ (НОВЫЙ) -->
      <div id="stage-3" class="content-box hidden">
        <p><strong>[УРОВЕНЬ 2: ГИГИЕНА ФИНАНСОВ]</strong></p>
        <p>Деньги любят чистоту. Следующая загадка:</p>
        <p
          style="
            font-style: italic;
            color: #8ee4af;
            border-left: 3px solid #8ee4af;
            padding-left: 15px;
          "
        >
          "Я кручусь верчусь, но я не карусель.<br />
          Я делаю грязное чистым, но я не мыло.<br />
          В быту я стираю носки, а в бизнесе — следы преступлений.<br />
          Куда несут 'грязный' кэш?"
        </p>

        <input
          type="text"
          id="input-laundry"
          placeholder="ОТВЕТ..."
          autocomplete="off"
        />
        <button onclick="checkLaundry()">ЗАПУСТИТЬ ОТЖИМ</button>
        <p class="error-msg" id="error-laundry">
          ОШИБКА. ДЕНЬГИ ВСЕ ЕЩЕ ГРЯЗНЫЕ.
        </p>
      </div>

      <!-- ЭТАП 4: ПАРАШЮТ (НОВЫЙ) -->
      <div id="stage-4" class="content-box hidden">
        <p><strong>[УРОВЕНЬ 3: АВАРИЙНЫЙ ВЫХОД]</strong></p>
        <p>Последний рубеж защиты:</p>
        <p
          style="
            font-style: italic;
            color: #8ee4af;
            border-left: 3px solid #8ee4af;
            padding-left: 15px;
          "
        >
          "Я — единственное средство спасения, которое работает лучше всего,
          когда компания падает в пропасть.<br />
          Чем хуже идут дела у фирмы, тем мягче я раскрываюсь для директора.<br />
          Он сделан из золота, но тканью не является.<br />
          Что это?"
        </p>

        <input
          type="text"
          id="input-parachute"
          placeholder="ОТВЕТ..."
          autocomplete="off"
        />
        <button onclick="checkParachute()">ПРЫГНУТЬ</button>
        <p class="error-msg" id="error-parachute">
          ВЫ РАЗБИЛИСЬ ОБ АСФАЛЬТ РЕАЛЬНОСТИ.
        </p>
      </div>

      <!-- ЭТАП 5: БОНУС (НОВЫЙ) -->
      <div id="stage-5" class="content-box hidden">
        <p><strong>[УРОВЕНЬ 4: СЕКРЕТЫ ИНВЕСТИЦИЙ]</strong></p>
        <p>Вы на верном пути! Решите еще одну загадку:</p>
        <p
          style="
            font-style: italic;
            color: #8ee4af;
            border-left: 3px solid #8ee4af;
            padding-left: 15px;
          "
        >
          "Я — желаемый приз для многих, но получаюсь только у избранных.<br />
          Меня прячут в конвертах, но я не письмо.<br />
          Я могу быть наличными, но не всегда видимыми.<br />
          Что я?"
        </p>

        <input
          type="text"
          id="input-bonus"
          placeholder="ОТВЕТ..."
          autocomplete="off"
        />
        <button onclick="checkBonus()">ПОЛУЧИТЬ БОНУС</button>
        <p class="error-msg" id="error-bonus">УПС! ЭТОТ БОНУС НЕ ДЛЯ ВАС.</p>
      </div>

      <!-- ЭТАП 6: ШАМПАНСКОЕ (НОВЫЙ) -->
      <div id="stage-6" class="content-box hidden">
        <p><strong>[УРОВЕНЬ 5: ПРАЗДНИК ЖИЗНИ]</strong></p>
        <p>Остался последний шаг! Разгадайте финальную загадку:</p>
        <p
          style="
            font-style: italic;
            color: #8ee4af;
            border-left: 3px solid #8ee4af;
            padding-left: 15px;
          "
        >
          "Я — искристая река, текущая в бокалах.<br />
          Я приношу радость и смех, но меня нужно пить с умом.<br />
          Я — символ праздника, но не каждый день меня встретишь.<br />
          Что я?"
        </p>

        <input
          type="text"
          id="input-champagne"
          placeholder="ОТВЕТ..."
          autocomplete="off"
        />
        <button onclick="checkChampagne()">ЗАВЕРШИТЬ ПРАЗДНИК</button>
        <p class="error-msg" id="error-champagne">ЭТА ШТУКА НЕ ДЛЯ НОВИЧКОВ.</p>
      </div>

      <!-- ЭТАП 7: АУДИТ (НОВЫЙ) -->
      <div id="stage-7" class="content-box hidden">
        <p><strong>[УРОВЕНЬ 6: ФИНАНСОВЫЙ КОНТРОЛЬ]</strong></p>
        <p>Вы почти у цели! Последняя загадка:</p>
        <p
          style="
            font-style: italic;
            color: #8ee4af;
            border-left: 3px solid #8ee4af;
            padding-left: 15px;
          "
        >
          "Я прихожу без стука и всегда с проверкой.<br />
          Я могу сделать вас беднее, но не забираю деньги.<br />
          Я — тень вашего бизнеса, следящая за каждым шагом.<br />
          Кто я?"
        </p>

        <input
          type="text"
          id="input-audit"
          placeholder="ОТВЕТ..."
          autocomplete="off"
        />
        <button onclick="checkAudit()">ПРОЙТИ АУДИТ</button>
        <p class="error-msg" id="error-audit">НАЛОГОВАЯ УЖЕ В ПУТИ!</p>
      </div>

      <!-- ФИНАЛ -->
      <div id="stage-final" class="content-box hidden">
        <p style="text-align: center"><strong>ДОСТУП РАЗРЕШЕН</strong></p>
        <p style="text-align: center">Налоговая беспомощно разводит руками</p>
        <p style="text-align: center">Ваш секретный код доступа к счетам:</p>

        <div class="jiggle-text">jigglejiggle</div>

        <p style="text-align: center; font-size: 0.8em; opacity: 0.7">
          (Мои деньги не складываются,<br />они звенят - jiggle jiggle)
        </p>
      </div>
    </div>

    <script>
      // Функция очистки (убираем пробелы, верхний регистр)
      function clean(val) {
        return val.trim().toUpperCase().replace(/\s/g, "");
      }

      // Этап 1: Проверка СОСНА
      function checkKey() {
        const val = clean(document.getElementById("input-key").value);

        if (val === "СОСНА") {
          document.getElementById("stage-1").classList.add("hidden");
          document.getElementById("stage-2").classList.remove("hidden");
        } else {
          showError("error-key");
        }
      }

      // Этап 2: Проверка загадки (ОФШОР)
      function checkRiddle() {
        const val = clean(document.getElementById("input-riddle").value);
        const answers = [
          "ОФШОР",
          "ОФФШОР",
          "OFFSHORE",
          "КИПР",
          "CYPRUS",
          "CAYMAN",
          "КАЙМАН",
        ];

        if (answers.includes(val)) {
          document.getElementById("stage-2").classList.add("hidden");
          document.getElementById("stage-3").classList.remove("hidden");
        } else {
          showError("error-riddle");
        }
      }

      // Этап 3: Проверка загадки (ПРАЧЕЧНАЯ)
      function checkLaundry() {
        const val = clean(document.getElementById("input-laundry").value);
        const answers = [
          "ПРАЧЕЧНАЯ",
          "LAUNDRY",
          "ОТМЫВАНИЕ",
          "СТИРКА",
          "ХИМЧИСТКА",
        ];

        if (answers.includes(val)) {
          document.getElementById("stage-3").classList.add("hidden");
          document.getElementById("stage-4").classList.remove("hidden");
        } else {
          showError("error-laundry");
        }
      }

      // Этап 4: Проверка загадки (ПАРАШЮТ)
      function checkParachute() {
        const val = clean(document.getElementById("input-parachute").value);
        const answers = [
          "ПАРАШЮТ",
          "PARACHUTE",
          "ЗОЛОТОЙПАРАШЮТ",
          "GOLDENPARACHUTE",
        ];

        if (answers.includes(val)) {
          document.getElementById("stage-4").classList.add("hidden");
          // ИЗМЕНЕНО: Переход на этап 5 вместо финала
          document.getElementById("stage-5").classList.remove("hidden");
        } else {
          showError("error-parachute");
        }
      }

      // Этап 5: Проверка загадки (БОНУС)
      function checkBonus() {
        const val = clean(document.getElementById("input-bonus").value);
        const answers = [
          "БОНУС",
          "BONUS",
          "ПРЕМИЯ",
          "КОНВЕРТ",
          "НАЛИЧКА",
          "CASH",
          "КЭШ",
          "13ЗАРПЛАТА",
        ];

        if (answers.includes(val)) {
          document.getElementById("stage-5").classList.add("hidden");
          document.getElementById("stage-6").classList.remove("hidden");
        } else {
          showError("error-bonus");
        }
      }

      // Этап 6: Проверка загадки (ШАМПАНСКОЕ)
      function checkChampagne() {
        const val = clean(document.getElementById("input-champagne").value);
        const answers = [
          "ШАМПАНСКОЕ",
          "CHAMPAGNE",
          "АЛКОГОЛЬ",
          "ALCOHOL",
          "ВИНО",
          "WINE",
          "КОРПОРАТИВ",
        ];

        if (answers.includes(val)) {
          document.getElementById("stage-6").classList.add("hidden");
          document.getElementById("stage-7").classList.remove("hidden");
        } else {
          showError("error-champagne");
        }
      }

      // Этап 7: Проверка загадки (АУДИТ)
      function checkAudit() {
        const val = clean(document.getElementById("input-audit").value);
        const answers = [
          "АУДИТ",
          "AUDIT",
          "НАЛОГОВАЯ",
          "TAX",
          "ИНСПЕКТОР",
          "ФНС",
          "ПРОКУРОР",
        ];

        if (answers.includes(val)) {
          document.getElementById("stage-7").classList.add("hidden");
          document.getElementById("stage-final").classList.remove("hidden");
        } else {
          showError("error-audit");
        }
      }

      // Показ ошибки с анимацией
      function showError(id) {
        const el = document.getElementById(id);
        el.style.display = "block";

        // Тряска контейнера
        const con = document.querySelector(".container");
        con.style.transform = "translateX(5px)";
        setTimeout(() => {
          con.style.transform = "translateX(-5px)";
        }, 50);
        setTimeout(() => {
          con.style.transform = "translateX(5px)";
        }, 100);
        setTimeout(() => {
          con.style.transform = "translateX(0)";
        }, 150);
      }

      // Enter key support
      document
        .getElementById("input-key")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") checkKey();
        });
      document
        .getElementById("input-riddle")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") checkRiddle();
        });
      document
        .getElementById("input-laundry")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") checkLaundry();
        });
      document
        .getElementById("input-parachute")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") checkParachute();
        });
      // Добавляем слушатели Enter для новых полей
      document
        .getElementById("input-bonus")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") checkBonus();
        });
      document
        .getElementById("input-champagne")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") checkChampagne();
        });
    </script>
  </body>
</html>
